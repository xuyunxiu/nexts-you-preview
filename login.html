<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>NEXT’S YOU — Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

  <style>
    body {
      margin:0; background:#000; color:#fff;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      min-height:100vh; overflow:hidden;
    }

    /* ===== LOGO 動畫 ===== */
    #splash { 
      display:flex; gap:20px; align-items:center; justify-content:center;
      font-weight:800; font-size:44px;
      margin-bottom:40px;
    }
    #splash .next { color:#fff; }
    #splash .one  { opacity:0; }
    #splash .syou { opacity:0; color:#e42323; transform:rotateY(90deg); transform-origin:left center; }
    @keyframes sp-fade-in  { from{opacity:0} to{opacity:1} }
    @keyframes sp-fade-out { from{opacity:1} to{opacity:0} }
    @keyframes sp-flip-in  { from{opacity:0; transform:rotateY(90deg)} to{opacity:1; transform:rotateY(0)} }

    /* ===== 登入卡片 ===== */
    .login-card {
      width:100%; max-width:360px; background:#111; padding:24px; border-radius:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.5); text-align:center;
    }
    .login-card h2 { margin-bottom:20px; }
    .login-input {
      width:100%; padding:12px; margin-bottom:12px;
      border:none; border-radius:12px; background:#222; color:#fff; font-size:15px;
    }
    .btn { width:100%; padding:14px; margin-bottom:12px;
      border:none; border-radius:12px; font-weight:600; cursor:pointer;
    }
    .btn-line { background:#06C755; color:#fff; }
    .btn-white { background:#fff; color:#000; }

    /* 錯誤提示 */
    .error { display:none; margin-top:-6px; margin-bottom:12px; color:#ff5a5f; font-size:14px; text-align:left; }
    .input-error { border:1px solid #ff5a5f !important; }
    .shake { animation: shake .3s; }
    @keyframes shake {
      0%{transform:translateX(0)}
      25%{transform:translateX(-6px)}
      50%{transform:translateX(6px)}
      75%{transform:translateX(-6px)}
      100%{transform:translateX(0)}
    }
  </style>
</head>
<body>

  <!-- LOGO 動畫 -->
  <div id="splash">
    <span class="next">NEXT</span>
    <span class="one"  id="spOne">ONE</span>
    <span class="syou" id="spYou">’S YOU</span>
  </div>

  <!-- 登入卡片 -->
  <div class="login-card">
    <h2>登入</h2>
    <button id="lineLoginBtn" class="btn btn-line">用 LINE 登入</button>
    <input id="inviteCode" class="login-input" placeholder="輸入邀請碼，例如 NEXT2025">
    <div id="codeError" class="error"></div>
    <button id="codeLoginBtn" class="btn btn-white">使用邀請碼</button>
  </div>

<script>
/* ===== LOGO 動畫控制 ===== */
window.addEventListener('load', ()=>{
  const one=document.getElementById('spOne');
  const you=document.getElementById('spYou');
  setTimeout(()=> one.style.animation="sp-fade-in .6s forwards", 300);
  setTimeout(()=> one.style.animation="sp-fade-out .4s forwards", 1200);
  setTimeout(()=> you.style.animation="sp-flip-in .6s forwards", 1700);
});

/* ===== 登入流程 ===== */
function fakeLogin(method){
  const ipt=document.getElementById('inviteCode');
  const err=document.getElementById('codeError');
  const code=(ipt.value||'').trim().toUpperCase();
  const ok=(method==='line') || (method==='code' && code==='NEXT2025');

  ipt.classList.remove('input-error','shake');
  err.style.display='none';

  if(ok){
    localStorage.setItem('loggedIn','true');
    if(!localStorage.getItem('fanId')){
      localStorage.setItem('fanId','FAN'+Math.floor(Math.random()*100000));
    }
    // ✅ 成功後跳轉
    window.location.href="app.html";
  }else{
    err.textContent="✗ 邀請碼錯誤！";
    err.style.display="block";
    ipt.classList.add("input-error","shake");
    ipt.addEventListener("animationend",()=>ipt.classList.remove("shake"),{once:true});
  }
}
document.getElementById('lineLoginBtn').addEventListener('click',()=>fakeLogin('line'));
document.getElementById('codeLoginBtn').addEventListener('click',()=>fakeLogin('code'));
</script>
</body>
</html>
