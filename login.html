<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>登入 - NEXT’S YOU</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #000;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    .loginBox {
      background: #111;
      padding: 32px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 0 20px rgba(255,255,255,0.1);
    }
    input {
      padding: 10px;
      margin: 8px 0;
      border: none;
      border-radius: 6px;
      width: 220px;
    }
    button {
      margin-top: 12px;
      padding: 10px 20px;
      background: #ff5fa2;
      border: none;
      border-radius: 6px;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover { background: #ff2e88; }

    /* Loading Animation */
    .hidden { display: none; }
    .loadingScreen {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: black;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: bold;
      z-index: 9999;
    }
    .loadingText {
      opacity: 0;
      transition: opacity 1s ease;
    }
    .loadingText.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="loginBox">
    <h2>輸入邀請碼</h2>
    <input type="text" id="inviteCode" placeholder="邀請碼">
    <br>
    <button onclick="verifyCode()">登入</button>
  </div>

  <!-- Loading Animation (NEXT ONE → NEXT’S YOU) -->
  <div id="loadingScreen" class="loadingScreen hidden">
    <div class="loadingText" id="loadingText">NEXT ONE</div>
  </div>

  <script>
    const VALID_CODES = ["ADP2025", "NEXT01", "VIPPASS"]; // 可換成你要的邀請碼清單

    function verifyCode() {
      const code = document.getElementById("inviteCode").value.trim();
      if (VALID_CODES.includes(code)) {
        // 生成粉絲ID
        const fanId = "NEXT-" + Math.floor(10000 + Math.random() * 90000);
        localStorage.setItem("fanId", fanId);

        playLoadingAnimation(() => {
          window.location = "app.html";
        });
      } else {
        alert("邀請碼錯誤，請再試一次！");
      }
    }

    function playLoadingAnimation(callback) {
      const screen = document.getElementById("loadingScreen");
      const text = document.getElementById("loadingText");
      screen.classList.remove("hidden");

      // Step 1: NEXT ONE
      text.textContent = "NEXT ONE";
      text.classList.add("show");

      setTimeout(() => {
        // Step 2: NEXT’S YOU
        text.classList.remove("show");
        setTimeout(() => {
          text.textContent = "NEXT’S YOU";
          text.classList.add("show");

          // Step 3: 結束動畫
          setTimeout(() => {
            screen.classList.add("hidden");
            if (callback) callback();
          }, 1500);

        }, 1000);
      }, 1500);
    }
  </script>
</body>
</html>
